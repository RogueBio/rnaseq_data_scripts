#!/bin/bash

# Directory containing the raw data
RAW_DATA_DIR="raw_data"

# Find all .fastq files in the raw_data directory and its subdirectories
fastq_files=$(find "$RAW_DATA_DIR" -type f -name "*.fastq")

# Define the directory containing the FastQC script (local path, not URL)
fastqc_dir="/path/to/your/fastqc/script"

# Define the output directory where FastQC results will be saved
OUTPUT_DIR="/path/to/output/directory"

# Loop through each .fastq file
for fastq_file in $fastq_files; do
    # Submit FastQC job for each file
    sbatch $fastqc_dir/fastqc.sh "$fastq_file" "$OUTPUT_DIR"

done
